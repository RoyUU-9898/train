<!doctype html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å°ç£éµè·¯è»Šç«™é…å°éŠæˆ²</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Noto Sans TC', sans-serif;
    }

    .station-card {
      cursor: grab;
      user-select: none;
      transition: transform .15s, box-shadow .15s;
    }
    .station-card:active {
      cursor: grabbing;
      transform: scale(1.05);
    }

    .label-box {
      border-radius: 14px;
      padding: 10px;
      font-size: 13px;
      font-weight: 700;
      background: rgba(255,255,255,.9);
      border: 2px dashed #facc15;
      box-shadow: 0 4px 14px rgba(0,0,0,.1);
    }
    .label-box.matched {
      background: linear-gradient(135deg,#4ade80,#22c55e);
      color: white;
      border: none;
      cursor: pointer;
    }

    .info-panel {
      background: linear-gradient(135deg,#fef3c7,#fde68a);
    }

    @media (orientation: landscape) and (max-width: 1200px) {
      .scale-wrap {
        transform: scale(.92);
        transform-origin: top center;
      }
    }
  </style>
</head>

<body class="bg-gradient-to-br from-sky-100 via-blue-50 to-emerald-50">

<div class="p-4 scale-wrap max-w-7xl mx-auto">

  <header class="text-center mb-4">
    <h1 class="text-2xl font-bold text-blue-600">ğŸš‚ å°ç£éµè·¯è»Šç«™é…å°éŠæˆ² ğŸšƒ</h1>
    <p class="text-gray-600 text-sm mt-1">æŠŠå³é‚Šçš„è»Šç«™åç¨±æ‹–åˆ°å·¦é‚Šæ­£ç¢ºçš„æ–¹æ¡†</p>
  </header>

  <div class="flex gap-4">

    <!-- åœ°åœ– -->
    <div class="w-2/3 bg-white rounded-3xl shadow-xl p-4 relative">
      <img src="./image.psd.jpg" class="w-full rounded-2xl select-none pointer-events-none">

      <svg id="lines" class="absolute inset-0 w-full h-full pointer-events-none" viewBox="0 0 100 100">
        <defs>
          <marker id="arrow" markerWidth="4" markerHeight="4" refX="3.5" refY="2" orient="auto">
            <path d="M0,0 L4,2 L0,4 Z" fill="rgba(51,65,85,.7)" />
          </marker>
        </defs>
      </svg>

      <div id="labels" class="absolute top-2 left-2 bottom-2 w-40 flex flex-col justify-between"></div>
    </div>

    <!-- å³å´ -->
    <div class="w-1/3 flex flex-col gap-4">

      <div class="bg-white rounded-3xl shadow-xl p-4">
        <div id="cards" class="flex flex-wrap gap-2 justify-center"></div>
      </div>

      <div class="info-panel rounded-3xl shadow-xl p-4 flex flex-col">
        <div id="info" class="flex-1 flex flex-col justify-center text-center text-amber-800">
          é»æ“Šå·²é…å°çš„æ–¹æ¡†<br>å³å¯æŸ¥çœ‹ç‰¹è‰²èˆ‡é¢¨æ™¯åœ–
        </div>
      </div>

    </div>
  </div>
</div>

<script>
const stations = [
  {id:'songshan',name:'æ¾å±±',img:'./songshan.jpg',bullets:['äº¤é€šèˆ‡å•†æ¥­æ ¸å¿ƒ','é¥’æ²³è¡—å¤œå¸‚','æ¾å±±æ–‡å‰µåœ’å€']},
  {id:'ruifang',name:'ç‘èŠ³',img:'./ruifang.jpg',bullets:['ç¤¦æ¥­åŸé®','ä¹ä»½é–€æˆ¶','æ—¥æ²»æ­·å²']},
  {id:'houtong',name:'çŒ´ç¡',img:'./houtong.jpg',bullets:['è²“æ‘','èˆŠç¤¦å€è½‰å‹','æ¸…å¹½å±±åŸ']},
  {id:'sandiaoling',name:'ä¸‰è²‚å¶º',img:'./sandiaoling.jpg',bullets:['ç§˜å¢ƒè»Šç«™','æºªè°·ç€‘å¸ƒ','åŸå§‹è‡ªç„¶']},
  {id:'mudan',name:'ç‰¡ä¸¹',img:'./mudan.jpg',bullets:['è¾²æ‘èšè½','è‡ªç„¶æ™¯è§€','éµè·¯æ”¯ç·š']},
  {id:'shuangxi',name:'é›™æºª',img:'./shuangxi.jpg',bullets:['æ²³æµäº¤æœƒ','å¥è¡Œå¤é“','å‚³çµ±ç”Ÿæ´»']},
  {id:'gongliao',name:'è²¢å¯®',img:'./gongliao.jpg',bullets:['æ±åŒ—è§’æµ·å²¸','æ¼æ‘æ–‡åŒ–','éŸ³æ¨‚ç¥­']},
  {id:'fulong',name:'ç¦éš†',img:'./fulong.jpg',bullets:['çŸ¥åæ²™ç˜','ç¦éš†ä¾¿ç•¶','å¤å­£æ´»å‹•']},
  {id:'yilan',name:'å®œè˜­',img:'./yilan.jpg',bullets:['æ…¢æ´»åŸå¸‚','åœ¨åœ°ç¾é£Ÿ','å±±æµ·è§€å…‰']},
  {id:'suao',name:'è˜‡æ¾³',img:'./suao.jpg',bullets:['æ¼æ¸¯åŸå¸‚','å†·æ³‰','éµè·¯æ¸¯å£']},
  {id:'hualien',name:'èŠ±è“®',img:'./hualien.jpg',bullets:['å±±æµ·æ™¯è§€','å¤ªé­¯é–£','åŸä½æ°‘æ–‡åŒ–']}
];

const positions = {
  songshan:{x:71,y:22},ruifang:{x:84,y:17},houtong:{x:85,y:19},
  sandiaoling:{x:85,y:21},mudan:{x:88,y:21},
  shuangxi:{x:88,y:23},gongliao:{x:91,y:23},
  fulong:{x:93,y:24},yilan:{x:82,y:41},
  suao:{x:88,y:52},hualien:{x:73,y:92}
};

const cards = document.getElementById('cards');
const labels = document.getElementById('labels');
const info = document.getElementById('info');
const svg = document.getElementById('lines');
let matched = new Set();

stations.forEach(st => {
  const c = document.createElement('div');
  c.className = 'station-card bg-blue-500 text-white px-3 py-1 rounded-xl text-sm font-bold';
  c.textContent = st.name;
  c.draggable = true;
  c.ondragstart = e => e.dataTransfer.setData('id', st.id);
  cards.appendChild(c);

  const l = document.createElement('div');
  l.className = 'label-box';
  l.ondragover = e => e.preventDefault();
  l.ondrop = e => {
    if (e.dataTransfer.getData('id') === st.id) {
      matched.add(st.id);
      l.classList.add('matched');
      l.textContent = st.name;
      showInfo(st);
      drawLines();
    }
  };
  labels.appendChild(l);
});

function showInfo(st) {
  info.innerHTML = `
    <h3 class="font-bold mb-2">${st.name}</h3>
    <ul class="text-sm mb-2">${st.bullets.map(b => `<li>â€¢ ${b}</li>`).join('')}</ul>
    <img src="${st.img}" class="rounded-xl w-full object-cover">
  `;
}

function drawLines() {
  svg.innerHTML = svg.innerHTML.split('</defs>')[0] + '</defs>';
  document.querySelectorAll('.label-box').forEach((l,i)=>{
    const st = stations[i];
    if (!matched.has(st.id)) return;
    const p = positions[st.id];
    const path = document.createElementNS('http://www.w3.org/2000/svg','path');
    path.setAttribute('d',`M 15 ${10+i*8} C 30 ${10+i*8}, ${p.x-5} ${p.y}, ${p.x} ${p.y}`);
    path.setAttribute('fill','none');
    path.setAttribute('stroke','rgba(16,185,129,.8)');
    path.setAttribute('stroke-width','.5');
    path.setAttribute('marker-end','url(#arrow)');
    svg.appendChild(path);
  });
}
</script>

</body>
</html>
